plugins:
  source:
    - module: intake_xarray

sources:

  obs:
    metadata:
      title: observed Terraclimate data
    driver: zarr
    parameters:
      timestep:
        description: data timestep
        type: str
        default: monthly
        allowed: [monthly, annual]
    args:
      urlpath: 'az://carbonplan-downscaling/obs/conus/4000m/{{ timestep }}/terraclimate_plus.zarr'
      consolidated: True
      storage_options:
        account_name: carbonplan

  regridded_cmip:
    metadata:
      title: regridded climate data
    driver: zarr
    parameters:
      timestep:
        description: data timestep
        type: str
        default: monthly
        allowed: [monthly, annual]
      model:
        description: climate model id
        type: str
        default: CanESM5
      scenario:
        description: climate model scenario
        type: str
        default: historical
        allowed: [historical, ssp245, ssp370, ssp585]
      member:
        description: climate model ensemble member
        type: str
        default: r10i1p1f1
    args:
      urlpath: 'az://carbonplan-downscaling/cmip6/regridded/conus/{{ timestep }}/4000m/{{ model }}.{{ scenario }}.{{ member }}.zarr'
      consolidated: True
      storage_options:
        account_name: carbonplan

  bias_corrected_cmip:
    metadata:
      title: bias corrected climate data
    driver: zarr
    parameters:
      timestep:
        description: data timestep
        type: str
        default: monthly
        allowed: [monthly, annual]
      model:
        description: climate model id
        type: str
        default: CanESM5
      scenario:
        description: climate model scenario
        type: str
        default: historical
        allowed: [historical, ssp245, ssp370, ssp585]
      member:
        description: climate model ensemble member
        type: str
        default: r10i1p1f1
    args:
      urlpath: 'az://carbonplan-downscaling/cmip6/bias-corrected/conus/4000m/{{ timestep }}/{{ model }}.{{ scenario }}.{{ member }}.zarr'
      consolidated: True
      storage_options:
        account_name: carbonplan
